{% extends "layout.html" %} {% block body %}

{% block header %}
  {{ super() }}
{% endblock %}

<!--Ongoing classes-->
<main class="container-fluid homepage-main">
  <h2>Ongoing classes</h2>
  {% if classes %}
  <ul class="container">
    <li>
      <table class="table-responsive table table-striped table-hover">
        <thead>
          <tr>
            <th class="col-md-2">Course</th>
            <th>Class Type</th>
            <th>Time Slot</th>
            <th>Location</th>
            <th>Year</th>
            <th class="col-md-1"></th>
            <th class="col-md-1"></th>
            <th class="col-md-1"></th>
          </tr>
        </thead>
        <tbody>
          {% for class in classes %}
          <tr>
            <td>{{ class['course'] }}</td>
            <td>{{ class['class_type'] }} # {{ class['class_id'] }}</td>
            <td>{{ class['time_slot'] }}</td>
            <td>{{ class['location'] }}</td>
            <td>{{ class['year'] }}</td>
            <td>
              <form action="/actions" method="post">
                <input
                  name="class_id"
                  type="hidden"
                  value="{{ class['class_id'] }}"
                />
                <input
                  title="Select class"
                  aria-label="Select ongoing class"
                  name="action"
                  id="select-btn"
                  type="submit"
                  value="Select"
                />
              </form>
            </td>
            <td>
              <form action="/actions" method="post">
                <input
                  name="class_id"
                  type="hidden"
                  value="{{ class['class_id'] }}"
                />
                <span title="Archive class" class="material-symbols-outlined"
                  ><input
                    aria-label="Archive class"
                    name="action"
                    onclick="return handleAction('archiveClass')"
                    id="select-btn"
                    type="submit"
                    value="Archive"
                /></span>
              </form>
            </td>
            <td>
              <form action="/actions" method="post">
                <input
                  name="class_id"
                  type="hidden"
                  value="{{ class['class_id'] }}"
                />
                <span class="material-symbols-outlined"
                  ><input
                    title="Delete class"
                    aria-label="Delete class"
                    name="action"
                    onclick="return handleAction('deleteClass')"
                    id="select-btn"
                    type="submit"
                    value="Delete"
                /></span>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </li>
  </ul>

  {% else %}
  <p>No ongoing classes at the moment.</p>
  <img class="container-fluid empty-class" src="{{ url_for('static', filename='img/empty-class.jpg') }}" alt="Picture depicting an empty classroom.">

  {% endif %} {% if archived %}
  <!--Archived classes-->
  <div class="archived-classes container-fluid">
    <h2>Archived Classes</h2>
  <div class="archive">
    <div class="form-wrapper">
    <form action="/actions" method="post">
      <select aria-label="Select an archived class" class="dropdown" name="class_id" id="archived">
        <option value="" selected disabled hidden>Select an archived class</option>
        {% for class in archived %}
        <option value="{{ class['class_id'] }}">
          {{ class['class_type'] }} #{{ class['class_id'] }} - {{ class['time_slot'] }} | {{
          class['location'] }} , {{ class['year'] }}
        </option>
        {% endfor %}
      </select>
    </div>
    <!--Action buttons-->
      <div class="button-container">
        <input title="Select class" aria-label="Select archived class" name="action" id="select-btn" type="submit" value="Select" />
        <span title="Unarchive" class="material-symbols-outlined">
          <input
            aria-label="Unarchive class"
            name="action"
            id="select-btn"
            type="submit"
            value="Unarchive"
          />
        </span>
      </div>
    </form>
  </div>
</div>

{% else %}
<h2>Archived Classes</h2>
  <p>There are no archived classes.</p>
  {% endif %}
</main>

<footer></footer>
{% endblock %}
